---  
layout: post  
title: JGit
date: 2017-01-09  
categories: blog  
tags: [Java]  
description: JGit
  
---  
  
  
====== JGit ===========
http://cache.baiducontent.com/c?m=9f65cb4a8c8507ed4fece7631046893b4c4380147d8c8c4668d4e419ce3b4c413037bfa6663f405a8e906b6075aa1f5bedf16622300123b59b8dd0169fac925f75ce786a6459db0144dc41fc8f1532c151872b9ab869ecad863384dfd3c4de24029705526d8081da045d489d78f06564b8e0&p=8b2a97049d934eac59ecc52f4f5490&newp=c46f8316d9c157fb1abd9b7d0c17c4231610db2151d7d4156b82c825d7331b001c3bbfb423231a0ed1cf7b6d04ad4c5aedfa337830032ba3dda5c91d9fb4c574799e7376&user=baidu&fm=sc&query=java+%CA%B9%D3%C3code+clone+git&qid=c4bd2374000006fb&p1=1

1. Jar : 
```
	jsch-0.1.54.jar
	log4j-1.2.17.jar
	org.eclipse.jgit-4.6.0.201612231935-r.jar
	slf4j-api-1.6.2.jar
	slf4j-log4j12-1.6.2.jar
```
2. Code : 
```
	import java.io.File;
	import java.io.IOException;

	import org.eclipse.jgit.api.Git;
	import org.eclipse.jgit.api.errors.GitAPIException;
	import org.eclipse.jgit.api.errors.InvalidRemoteException;
	import org.eclipse.jgit.api.errors.TransportException;
	import org.eclipse.jgit.transport.JschConfigSessionFactory;
	import org.eclipse.jgit.transport.OpenSshConfig;
	import org.eclipse.jgit.transport.OpenSshConfig.Host;
	import org.eclipse.jgit.transport.SshSessionFactory;
	import org.eclipse.jgit.util.FS;

	import com.jcraft.jsch.JSchException;
	import com.jcraft.jsch.Session;

	public class JavaGit {
		public static void main(String[] args) throws IOException,
				InvalidRemoteException, TransportException, GitAPIException {
			String localPath = "C:/Users/DY83694/Desktop/git/hnwweb";
			String remotePath = "ssh://git@cedt-icg-bitbucketcli.nam.nsroot.net:7999/hnw/hnwweb.git";

			SshSessionFactory.setInstance(new JschConfigSessionFactory() {
				@Override
				protected void configure(OpenSshConfig.Host hc, Session session) {
					session.setConfig("StrictHostKeyChecking", "no");
				}

				@Override
				protected Session createSession(Host hc, String user, String host,
						int port, FS fs) throws JSchException {
					getJSch(hc, fs).addIdentity("C:\\Users\\DY83694\\.ssh\\id_rsa_dy");
					return super.createSession(hc, user, host, port, fs);
				}
			});

			Git.cloneRepository()
				.setURI(remotePath)
				//	.setBranch("master")
						.setDirectory(new File(localPath))
							.call();
		
		//FileRepository localRepo = new FileRepository(localPath + "/.git");
		//Git git = new Git(localRepo);
		//git.pull().setRemoteBranchName(branch).call();

		}
	}

  ```
  
  
<img src="/assets/image/test.png" alt="替代文本" title="标题文本" width="200" height = "100" />  
  
