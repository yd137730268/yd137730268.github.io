---  
layout: post  
title: gitServer  
date: 2018-01-08
categories: blog  
tags: [Java]  
description: gitServer  
  
---  

=============== set up git server ==============

1. git : https://www.kernel.org/pub/software/scm/git/git-2.9.4.tar.gz
2. check gcc command, if not install : 
	add aliyun yum source in /etc/yum.repos.d/soe-prod.repo:
		# SOE pre-release update-level production stream
		[soe6u8]
		name=SOE pre-release update-level production stream
		baseurl=http://mirrors.aliyun.com/centos/6/os/x86_64
		enabled=1
		gpgcheck=0

	yum install gcc
3.	yum install git
	git --version
4. create repository : 
	cd /home/git
	mkdir repo.git #名字自定义
	cd repo.git
	git init --bare #生成裸仓库，存放除代码的版本信息
5. clone :
	$ git clone ssh://dy83694@sd-df58-b302.nam.nsroot.net:22/home/dy83694/data/git/gittest.git
	$ git status
		# On branch master
		#
		# Initial commit
		#
		# Untracked files:
		#   (use "git add <file>..." to include in what will be committed)
		#
		#       src/
		nothing added to commit but untracked files present (use "git add" to track)
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
	$ git add src/test.properties
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
	$ git status
		# On branch master
		#
		# Initial commit
		#
		# Changes to be committed:
		#   (use "git rm --cached <file>..." to unstage)
		#
		#       new file:   src/test.properties
		#
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
	$ git commit -m 'first'
		[master (root-commit) 414409c] first
		 1 file changed, 1 insertion(+)
		 create mode 100644 src/test.properties
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
	$ git status
		# On branch master
		nothing to commit, working directory clean
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
	$ git push -u origin master

		You are authorized to use this System for approved business purposes only.
		Use for any other purpose is prohibited. All transactional records, reports,
		email, software and other data generated by or residing upon this System,
		to the extent permitted by local law, are the property of Citigroup Inc.
		or one of its subsidiaries or their affiliates
		(individually or collectively ' Citigroup ') and may be used by Citigroup
		for any purpose authorized and permissible in your country of work.
		Activities on this System are monitored to the extent permitted by local law.

		PAM Authentication
		Password:
		Counting objects: 4, done.
		Writing objects: 100% (4/4), 281 bytes, done.
		Total 4 (delta 0), reused 0 (delta 0)
		error: insufficient permission for adding an object to repository database ./obj
		ectserror: unpack failed: unpack-objects abnormal exit


		fatal: failed to write object
		To ssh://dy83694@sd-df58-b302.nam.nsroot.net:22/home/dy83694/data/git/gittest.gi
		t
		 ! [remote rejected] master -> master (n/a (unpacker error))
		error: failed to push some refs to 'ssh://dy83694@sd-df58-b302.nam.nsroot.net:22
		/home/dy83694/data/git/gittest.git'
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
	$ git status
		# On branch master
		nothing to commit, working directory clean
		dy83694@APACCNSHZJW2931 ~/Desktop/tmp/gittest/gittest (master)
